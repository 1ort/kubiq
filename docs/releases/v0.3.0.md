# Kubiq v0.3.0 Release Notes

Tag: `release/0.3.0`

## Highlights

- Completed Milestone 11 (`Reliability hardening`).
- Added defaults-only retry/backoff/timeout policy for transient K8s failures.
- Added discovery/resource-resolution cache with TTL and stale-resolution invalidation retry.
- Unified path utilities and fixed dotted map key roundtrip in `select`/`--describe`.
- Finalized typed error hardening audit for stable `kube::Error -> K8sError` mapping.

## Reliability behavior

- Retry policy is built-in and non-configurable in `v0.3.0`.
- Retry applies only to transient branches (transport, timeout, `408`, `429`, `5xx`).
- Non-retryable branches fail immediately with typed errors.
- Final retry outcome is reported via single retry summary diagnostic in `stderr`.

## Path and output correctness

- Flatten/unflatten/select path logic uses unified utilities across fetch/output layers.
- Dotted keys in annotations/labels (for example, `kubectl.kubernetes.io/...`) are preserved without structural distortion.
- Parent-path `select` and `--describe` return nested JSON/YAML with original dotted keys intact.

## Error model and diagnostics

- Typed K8s error surface remains the primary operator contract.
- Selector fallback and stale-resolution refresh remain typed and explicit.
- Actionable tips are aligned with concrete typed branches (`DiscoveryRun`, `ListFailed`, `RetryExhausted`, etc.).

## Validation

- Unit and integration test suites are green.
- `just verify` and docs checks are green.

## Upgrade notes from v0.2.0

- No DSL grammar changes.
- No new CLI knobs for retry/timeout.
- Existing query behavior for `where/select/order by/aggregation` remains backward-compatible.
